version: '3.9'
services:
  redis:
    image: 'redis/redis-stack:6.2.6-v7'
    container_name: dcc-redis-stack
    hostname: inaipi-redis
    logging:
      driver : local
      options:
        max-size: "10M"
    restart: always
    ports:
      - '6379:6379'
      - '8000:8001'
    volumes:
      - 'redisData:/data'
    networks:
      - dcc-network
  rabbitMQ:
    image: 'rabbitmq:3-management'
    container_name: dcc-rabbitMQ
    hostname: inaipi-rabbitMQ
    logging:
      driver : local
      options:
        max-size: "10M"
    restart: always
    ports:
      - '15672:15672'
      - '5672:5672'
    environment:
      RABBITMQ_DEFAULT_VHOST: inaipi_vhost
      RABBITMQ_DEFAULT_USER: inaipi
      RABBITMQ_DEFAULT_PASS: inaipi@2022
    volumes:
      - 'rabbitData:/var/lib/rabbitmq'
    networks:
      - dcc-network
  eureka:
    image: 'devopsedaya/dcc-eureka-release-v-1.1.001'
    container_name: dcc-eureka
    hostname: inaipi-eureka
    logging:
      driver : local
      options:
        max-size: "10M"
    restart: always
    ports:
      - '9090:9090'
    networks:
      - dcc-network
volumes:
  redisData: null
  rabbitData: null
networks:
  dcc-network:
